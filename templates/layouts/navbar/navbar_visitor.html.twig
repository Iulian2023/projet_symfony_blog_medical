{% set curentPathInfo = app.request.pathInfo%}

<nav class="navbar navbar-expand-lg">
  <div class="container-lg">
    <a class="navbar-brand" href="{{path("visitor.welcome.index")}}">J. Dupont</a>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarNav">
        <ul class="navbar-nav">
            <li class="nav-item">
                <a class="nav-link {{curentPathInfo == path('visitor.welcome.index') ? 'jd-active' : ''}}"
                {{curentPathInfo == path('visitor.welcome.index') ? "aria-current='page'"  : ''}}   href="{{path("visitor.welcome.index")}}">Accueil</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="{{path('visitor.welcome.index')}}#about-me">Qui suis-je</a>
            </li>
            <li class="nav-item">
                <a class="nav-link {{curentPathInfo == path('visitor.blog.index') ? 'jd-active' : ''}}"
                {{curentPathInfo == path('visitor.blog.index') ? "aria-current='page'"  : ''}} href="{{path('visitor.blog.index')}}">Blog</a>
            </li>
            <li class="nav-item">
                <a class="nav-link {{curentPathInfo == path('visitor.contact.create') ? 'jd-active' : ''}}"
                {{curentPathInfo == path('visitor.contact.create') ? "aria-current='page'"  : ''}} class="nav-link" href="{{path('visitor.contact.create')}}">Contact</a>
            </li>
        </ul>
        <ul class="navbar-nav ms-auto">
            {% if app.user %}
                {% if "ROLE_ADMIN" in app.user.roles %}
                    <li class="nav-item">
                        <a href="{{path('admin.home.dashboard')}}" class="btn btn-primary mx-jd shadow">Espace admin</a>
                    </li>
                {% endif %}
                {% if "ROLE_USER" in app.user.roles %}
                    <li class="nav-item">
                        <a href="{{path('user.home.index')}}" class="btn btn-primary mx-jd shadow">Espace privé</a>
                    </li>
                {% endif %}
                    <li class="nav-item">
                        <a href="{{path('app.logout')}}" class="btn btn-outline-primary mx-jd shadow">Déconnexion</a>
                    </li>
            {% else %}
            <li class="nav-item">
                <a href="{{path('visitor.authentication.login')}}" class="btn btn-outline-primary mx-jd shadow">Connexion</a>
            </li>
            <li class="nav-item">
                <a href="{{path("visitor.registration.register")}}" class="btn btn-primary mx-jd shadow">Inscription</a>
            </li>
            {% endif %}
            
        </ul>
    </div>
  </div>
</nav>